{"version":3,"sources":["images/mesto-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","images/success.svg","images/denied.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","components/App.js","index.js"],"names":["Header","props","className","src","logoPath","alt","exact","path","email","to","onClick","logOutHandler","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","likesAmount","length","cardDeleteButtonClassName","cardLikeButtonClassName","link","handleCardImage","name","type","onCardLike","onCardDelete","Main","mainCardImage","data","onOpenImage","onEditAvatar","avatar","aria-label","onEditProfile","about","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","noValidate","onSubmit","title","children","aria-labelledby","button","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","htmlFor","id","placeholder","required","minLength","maxLength","value","onChange","target","useRef","onUpdateAvatar","current","ref","AddPlacePopup","ImagePopup","Login","setEmail","password","setPassword","Register","console","log","InfoTooltip","imagePath","status","SuccessPath","DeniedPath","ProtectedRoute","Component","component","loggedIn","config","this","_url","url","_groupId","groupId","_headers","headers","Promise","all","getUserInfo","getCards","res","ok","json","reject","fetch","method","then","_checkResponse","body","JSON","stringify","cardId","_cardId","authorization","token","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","setIsInfoToolTipOpen","setCurrentUser","api","catch","err","setCards","setLoggedIn","tooltipStatus","setTooltipStatus","history","useHistory","isInfoToolTipOpen","handleInfoTooltip","localStorage","getItem","auth","validityCheck","push","removeItem","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","register","signing","setItem","changeUserInfo","postCard","setUserAvatar","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.5e291fb0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mesto-logo.03b78ada.svg\";","import React from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport logoPath from \"../images/mesto-logo.svg\";\n\nexport default function Header(props) {\n  return (\n      <header className=\"header\">\n        <img className=\"header__logo\" src={logoPath} alt=\"Логотип 'Места'\" />\n        <div className=\"header__container\">\n          <Route exact path=\"/\">\n            <p className=\"header__info header__email\">{props.email}</p>\n            <Link to=\"/sign-in\" onClick={props.logOutHandler} className=\"header__info\">Выйти</Link>\n          </Route>\n          <Route path=\"/sign-up\">\n            <Link to=\"/sign-in\" className=\"header__info\">Войти</Link>\n          </Route>\n          <Route path=\"/sign-in\">\n            <Link to=\"/sign-up\" className=\"header__info\">Зарегистрироваться</Link>\n          </Route>\n        </div>\n      </header>\n  );\n}","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Card(props) {\n  /* Image opening handler */\n  const handleImageClick = () => {\n    props.handleCardImage(props);\n  }\n\n  /* Subscribing on user context */\n  const currentUser = React.useContext(CurrentUserContext);\n\n  /* Checking if we are card owner */\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  /* Checking which cards we liked */\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  /* Likes counter */\n  const likesAmount = props.card.likes.length;\n\n  /* Trash button appearance handler */\n  const cardDeleteButtonClassName = (\n      `element__trash-button ${isOwn && 'element__trash-button_visible'}`\n  );\n\n  /* Like button appearance handler */\n  const cardLikeButtonClassName = (\n      `element__like-button ${isLiked && 'element__like-button_active'}`\n  );\n\n  /* Card delete handler */\n  const handleDeleteClick = () => {\n    props.onCardDelete(props.card);\n  }\n\n  /* Card like handler */\n  const handleLikeClick = () => {\n    props.onCardLike(props.card);\n  }\n\n  return (\n    <article className=\"element\" key={props.card._id}>\n      <img\n          className=\"element__image\"\n          src={props.card.link}\n          alt=\"Фотография места\"\n          onClick={handleImageClick}\n      />\n      <div className=\"element__info\">\n        <h2 className=\"element__place-name\">{props.card.name}</h2>\n        <div className=\"element__like-block\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\n          <p className=\"element__like-counter\">{likesAmount}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} />\n    </article>\n  )\n}\n","import React from \"react\";\nimport Card from \"./Card\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function Main(props) {\n  /* Image opening handler */\n  const mainCardImage = (data) => {\n    props.onOpenImage && props.onOpenImage(data);\n  }\n\n  /* Subscribing on user context */\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n      <main className=\"main\">\n        <section className=\"profile\">\n          <button className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\n            <img className=\"profile__avatar\" alt=\"Фотография профиля\" src={currentUser.avatar} />\n          </button>\n          <div className=\"profile__info\">\n            <div className=\"profile__info-heading\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button\n                  type=\"button\"\n                  className=\"profile__edit-button\"\n                  aria-label=\"Редактировать профиль\"\n                  onClick={props.onEditProfile}\n              />\n            </div>\n            <p className=\"profile__caption\">{currentUser.about}</p>\n          </div>\n          <button\n              type=\"button\"\n              className=\"profile__add-button\"\n              aria-label=\"Добавить карточку\"\n              onClick={props.onAddPlace}\n          />\n        </section>\n        <section className=\"elements\">\n          {props.cards.map((item) => (\n            <Card\n                card={item}\n                key={item._id}\n                handleCardImage={mainCardImage}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </section>\n      </main>\n  )\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n","export default function PopupWithForm(props) {\n  return (\n      <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\n        <form\n            className={`popup__container popup__container_${props.name} popup__form`}\n            name={props.name}\n            noValidate\n            onSubmit={props.onSubmit}\n        >\n          <h3 className={`popup__heading popup__heading_${props.name}`}>{props.title}</h3>\n          {props.children}\n          <button\n              type=\"submit\"\n              name=\"submit-button\"\n              className={`popup__submit-button popup__submit-button_${props.name} popup__button popup__button_enabled`}\n              aria-labelledby=\"popup__submit-button\">\n            {props.button}\n          </button>\n          <button\n              onClick={props.onClose}\n              type=\"button\"\n              name=\"close-button\"\n              className={`popup__close-icon popup__close-icon_${props.name}`}\n              aria-label=\"Закрыть форму редактирования профиля\">\n          </button>\n        </form>\n      </div>\n  )\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  /* Define states for profile name and description */\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  /* State handlers */\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  }\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  }\n\n  /* Context subscribing */\n  const currentUser = React.useContext(CurrentUserContext);\n\n  /* Setting context based states */\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser]);\n\n  /* Submit handler */\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  return (\n  <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name=\"profile-edit\"\n      title=\"Редактировать профиль\"\n      button=\"Сохранить\"\n      onSubmit={handleSubmit}>\n    <label htmlFor=\"name-profile-edit\" className=\"popup__container-label\">\n      <input\n          type=\"text\"\n          name=\"name\"\n          className=\"popup__field popup__name popup__name_profile-edit popup__input\"\n          id=\"name-profile-edit\"\n          placeholder=\"Имя\"\n          aria-label=\"Имя профиля\"\n          required minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleChangeName}\n      />\n      <span className=\"popup__error popup__error_visible name-profile-edit-error\" />\n    </label>\n    <label htmlFor=\"caption-profile-edit\" className=\"popup__container-label\">\n      <input\n          type=\"text\"\n          name=\"about\"\n          className=\"popup__field popup__caption popup__caption_profile-edit popup__input\"\n          id=\"caption-profile-edit\"\n          placeholder=\"Вид деятельности\"\n          aria-label=\"Описание профиля\"\n          required minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleChangeDescription}\n      />\n      <span className=\"popup__error popup__error_visible caption-profile-edit-error\" />\n    </label>\n  </PopupWithForm>\n  )\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup(props) {\n  /* Creating input reference */\n  const avatar = React.useRef();\n\n  /* Submit handler */\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      link: avatar.current.value\n    });\n    avatar.current.value = '';\n  }\n\n  return (\n      <PopupWithForm\n          isOpen={props.isOpen}\n          onClose={props.onClose}\n          name=\"user-image\"\n          title=\"Обновить аватар\"\n          button=\"Сохранить\"\n          onSubmit={handleSubmit}>\n        <label htmlFor=\"link-user-image\" className=\"popup__container-label\">\n          <input\n              type=\"url\"\n              name=\"link\"\n              className=\"popup__field popup__caption popup__caption_user-image popup__input\"\n              id=\"link-user-image\"\n              placeholder=\"Ссылка на картинку\"\n              aria-label=\"Ссылка на картинку\"\n              required minLength=\"1\"\n              ref={avatar}\n          />\n          <span className=\"popup__error popup__error_visible link-user-image-error\" />\n        </label>\n      </PopupWithForm>\n  )\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup(props) {\n  /* Creating input references */\n  const name = React.useRef();\n  const link = React.useRef();\n\n  /* Submit handler */\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({name: name.current.value, link: link.current.value});\n    name.current.value = '';\n    link.current.value = '';\n  }\n\n  return (\n      <PopupWithForm\n          isOpen={props.isOpen}\n          onClose={props.onClose}\n          onSubmit={handleSubmit}\n          name=\"add-place\"\n          title=\"Новое место\"\n          button=\"Создать\">\n        <label htmlFor=\"name-add-place\" className=\"popup__container-label\">\n          <input\n              type=\"text\"\n              name=\"name\"\n              className=\"popup__field popup__name popup__name_add-place popup__input\"\n              id=\"name-add-place\"\n              placeholder=\"Название\"\n              aria-label=\"Название\"\n              required minLength=\"2\"\n              maxLength=\"30\"\n              ref={name} />\n          <span className=\"popup__error popup__error_visible name-add-place-error\" />\n        </label>\n        <label htmlFor=\"caption-add-place\" className=\"popup__container-label\">\n          <input\n              type=\"url\"\n              name=\"link\"\n              className=\"popup__field popup__caption popup__caption_add-place popup__input\"\n              id=\"caption-add-place\"\n              placeholder=\"Ссылка на картинку\"\n              aria-label=\"Ссылка на картинку\"\n              required minLength=\"1\"\n              ref={link} />\n          <span className=\"popup__error popup__error_visible caption-add-place-error\" />\n        </label>\n      </PopupWithForm>\n  )\n}\n","export default function ImagePopup(props) {\n  return (\n      <div className={`popup popup_image ${props.link && 'popup_opened'}`}>\n        <div className=\"popup__container popup__container_image\">\n          <img className=\"popup__image\" src={props.link} alt=\"Фотография места\" />\n          <p className=\"popup__image-caption\">{props.name}</p>\n          <button\n              onClick={props.onClose}\n              type=\"button\"\n              name=\"close-button\"\n              className=\"popup__close-icon popup__close-icon_image\"\n              aria-label=\"Закрыть картинку\"\n          ></button>\n        </div>\n      </div>\n  )\n}\n","import React from \"react\";\n\nexport default function Login(props) {\n  /* Define states for email and password */\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  /* State handlers */\n  const handleChangeEmail = (e) => {\n    setEmail(e.target.value);\n  }\n\n  const handleChangePassword = (e) => {\n    setPassword(e.target.value);\n  }\n\n  /* Submit handler */\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onSubmit({\n      email: email,\n      password: password\n    });\n  }\n\n  return (\n    <form className=\"login\" onSubmit={handleSubmit}>\n      <h1 className=\"login__heading\">Вход</h1>\n      <label htmlFor=\"login-email\" className=\"popup__container-label\">\n        <input\n            type=\"email\"\n            name=\"email\"\n            className=\"login__field\"\n            id=\"login-email\"\n            placeholder=\"Email\"\n            aria-label=\"Email пользователя\"\n            required minLength=\"2\"\n            maxLength=\"40\"\n            value={email}\n            onChange={handleChangeEmail}\n        />\n        <span className=\"popup__error popup__error_visible name-profile-edit-error\" />\n      </label>\n      <label htmlFor=\"login-password\" className=\"popup__container-label\">\n        <input\n            type=\"password\"\n            name=\"password\"\n            className=\"login__field\"\n            id=\"login-password\"\n            placeholder=\"Пароль\"\n            aria-label=\"Пароль пользователя\"\n            required minLength=\"2\"\n            maxLength=\"40\"\n            value={password}\n            onChange={handleChangePassword}\n        />\n        <span className=\"popup__error popup__error_visible name-profile-edit-error\" />\n      </label>\n      <button\n          type=\"submit\"\n          className=\"login__register-button\"\n          aria-label=\"Войти\">\n        Войти\n      </button>\n    </form>\n  )\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Register(props) {\n  /* Define states for email and password */\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  /* State handlers */\n  const handleChangeEmail = (e) => {\n    setEmail(e.target.value);\n  }\n\n  const handleChangePassword = (e) => {\n    setPassword(e.target.value);\n  }\n\n  /* Submit handler */\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onSubmit({\n      email: email,\n      password: password\n    });\n    console.log(`Register.js email and pw: ${email}, ${password}`);\n  }\n\n  return (\n    <form className=\"register\" onSubmit={handleSubmit} noValidate>\n      <h1 className=\"register__heading\">Регистрация</h1>\n      <label htmlFor=\"registration-email\" className=\"popup__container-label\">\n        <input\n            type=\"email\"\n            name=\"email\"\n            className=\"register__field\"\n            id=\"registration-email\"\n            placeholder=\"Email\"\n            aria-label=\"Email пользователя\"\n            required minLength=\"2\"\n            maxLength=\"40\"\n            value={email}\n            onChange={handleChangeEmail}\n        />\n        <span className=\"popup__error popup__error_visible name-profile-edit-error\" />\n      </label>\n      <label htmlFor=\"registration-password\" className=\"popup__container-label\">\n        <input\n            type=\"password\"\n            name=\"password\"\n            className=\"register__field\"\n            id=\"registration-password\"\n            placeholder=\"Пароль\"\n            aria-label=\"Пароль пользователя\"\n            required minLength=\"2\"\n            maxLength=\"40\"\n            value={password}\n            onChange={handleChangePassword}\n        />\n        <span className=\"popup__error popup__error_visible name-profile-edit-error\" />\n      </label>\n      <button\n          type=\"submit\"\n          className=\"register__register-button\"\n          aria-label=\"Зарегистрироваться\">\n        Зарегистрироваться\n      </button>\n      <p className=\"register__login-invitation\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"register__login-invitation-link\">Войти</Link></p>\n    </form>\n  )\n}","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/denied.df8eddf6.svg\";","import SuccessPath from \"../images/success.svg\";\nimport DeniedPath from \"../images/denied.svg\";\n\nexport default function InfoTooltip(props) {\n  const successTitle = 'Вы успешно зарегистрировались!';\n  const failTitle = 'Что-то пошло не так!\\n' +\n  'Попробуйте ещё раз.';\n  let imagePath = null;\n  let title = null;\n\n  if (props.status === 'success') {\n    imagePath = SuccessPath;\n    title = successTitle;\n  } else {\n    imagePath = DeniedPath;\n    title = failTitle;\n  }\n\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\n      <div\n          className={`popup__container popup__container_info`}\n          name='success'>\n        <img className={`popup__image_info`} src={imagePath} alt={'Message icon'} />\n        <h3 className={`popup__heading popup__heading_info`}>{title}</h3>\n        <button\n            onClick={props.onClose}\n            type=\"button\"\n            name=\"close-button\"\n            className={`popup__close-icon`}\n            aria-label={`Закрыть окно подтверждения`}>\n        </button>\n      </div>\n    </div>\n  )\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n      <Route>\n        {() =>\n            props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n        }\n      </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._groupId = config.groupId;\n    this._headers = config.headers;\n  }\n\n\n  /* C A R D S   R E Q U E S T S */\n\n  _getAllInfo() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  };\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getCards() {\n    return fetch(`${this._url}/${this._groupId}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n  }\n\n  postCard(data) {\n    return fetch(`${this._url}/${this._groupId}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    this._cardId = cardId;\n      return fetch(`${this._url}/${this._groupId}/cards/${this._cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse);\n  }\n\n\n  /* U S E R   R E Q U E S T S */\n  /* Info */\n  getUserInfo() {\n    return fetch(`${this._url}/${this._groupId}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n  }\n\n  changeUserInfo(data) {\n    return fetch(`${this._url}/${this._groupId}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then(this._checkResponse);\n    }\n\n  /* Avatar */\n  setUserAvatar(data) {\n    return fetch(`${this._url}/${this._groupId}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.link\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n\n  /* L I K E   R E Q U E S T S */\n\n  changeLikeCardStatus(id, status) {\n    return fetch(`${this._url}/${this._groupId}/cards/likes/${id}`, {\n      method: status ? \"PUT\" : \"DELETE\",\n      headers: this._headers\n    })\n        .then(this._checkResponse);\n  }\n}\n\nexport default new Api({\n  url: 'https://mesto.nomoreparties.co/v1',\n  groupId: 'cohort-20',\n  headers: {\n    authorization: '9af7eabd-c94e-4285-ad12-d82268efba7b',\n    'Content-Type': 'application/json'\n  }\n});\n","class Auth {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  // User registration\n  register(data) {\n    console.log(`auth.js email and pw: ${data.email}, ${data.password}`);\n    return fetch(`${this._url}/signup`, {\n      method: 'POST',\n      headers: {'Content-Type': 'application/json',},\n      body: JSON.stringify({\n        email: data.email,\n        password: data.password\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  // User signing in\n  signing(data) {\n    return fetch(`${this._url}/signin`, {\n      method: 'POST',\n      headers: {'Content-Type': 'application/json',},\n      body: JSON.stringify({\n        password: data.password,\n        email: data.email\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  // Token validity check\n  validityCheck(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n      .then(this._checkResponse);\n  }\n}\n\nexport default new Auth({\n  url: 'https://auth.nomoreparties.co',\n});\n","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport api from '../utils/api';\nimport auth from '../utils/auth'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function App() {\n  /* EditProfilePopup handling */\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  /* AddPlacePopup handling */\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  /* EditAvatarPopup handling */\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  /* ImagePopup handling */\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const handleCardClick = (data) => {\n    setSelectedCard({name: data.card.name, link: data.card.link});\n  }\n\n  /* Close all popups */\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setSelectedCard({});\n  }\n\n  /* User setting functionality */\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api.getUserInfo()\n        .then((res) => {\n          setCurrentUser(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n  }, [])\n\n  const handleUpdateUser = ({name, about}) => {\n    api.changeUserInfo({name, about})\n        .then((res) => {\n          setCurrentUser(res);\n          closeAllPopups();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n  }\n\n  const handleUpdateAvatar = ({link}) => {\n    api.setUserAvatar({link})\n        .then((res) => {\n          setCurrentUser(res);\n          closeAllPopups();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n  }\n\n  /* Card functionality */\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getCards()\n        .then((res) => {\n          setCards(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      setCards((state) => state.filter((c) => c._id !== card._id));\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  /* AddPlace functionality */\n  function handleAddPlaceSubmit(data) {\n    api.postCard(data).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  /* A U T H O R I S A T I O N */\n  \n  /* Check if user logged */\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n  const [tooltipStatus, setTooltipStatus] = React.useState('');\n  const history = useHistory();\n\n  /* Info Tooltip Popup handling */\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n  function handleInfoTooltip() {\n    setIsInfoToolTipOpen(true);\n  }\n\n  /* Registration */\n  function handleRegistration(data) {\n      console.log(`App.js email and pw: ${data.email}, ${data.password}`);\n        auth.register(data).then(() => {\n          setTooltipStatus('success');\n          handleInfoTooltip();\n    })\n    .catch((err) => {\n      setTooltipStatus('fail');\n      handleInfoTooltip();\n      console.log(err);\n    });\n  }\n\n  /* Login */\n  function handleLogin(data) {\n      auth.signing(data).then((res) => {\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n        history.push('/');\n    })\n    .catch((err) => {\n      setTooltipStatus('fail');\n      handleInfoTooltip();\n      console.log(err);\n    });\n  }\n\n  /* Token check */\n  React.useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if(token) {\n      auth.validityCheck(token).then((res) => {\n        if (res){\n          setEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        } else {\n          localStorage.removeItem('jwt');\n        }\n      });\n    }\n  }, []);\n\n  /* Logout */\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    <Redirect to=\"/sign-in\" />\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n      <div className='page__content'>\n        <div className=\"page\">\n          <Header loggedIn={loggedIn} logOutHandler={handleLogout} email={email} />\n          <Switch>\n            <ProtectedRoute\n                exact path=\"/\"\n                loggedIn={loggedIn}\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onOpenImage={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n            />\n            <Route path=\"/sign-up\">\n              <Register onSubmit={handleRegistration} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login onSubmit={handleLogin} />\n            </Route>\n          </Switch>\n          <Footer />\n          <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit} />\n          <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar} />\n          <ImagePopup\n              isOpen={selectedCard}\n              onClose={closeAllPopups}\n              name={selectedCard.name}\n              link={selectedCard.link} />\n          <InfoTooltip\n              isOpen={isInfoToolTipOpen}\n              onClose={closeAllPopups}\n              status={tooltipStatus} />\n        </div>\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/mesto-react\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}